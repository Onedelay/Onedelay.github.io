<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    

    
    <title>안드로이드 면접대비 _ 2 | Blog</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="Interview,android">
    
    <meta name="description" content="안드로이드 면접 질문 View가 그려지는 과정 View lifecycle 대용량 Bitmap 로드시 메모리 문제를 해결하는 방법 화면 렌더링 속도를 개선하는 방법  주요내용출처1, 주요내용출처2, 주요내용출처3 위 3개 링크에 있는 내용을 그냥 필요한대로 옮겨다 적은 것.  1. View가 그려지는 과정뷰는 포커스를 얻으면 레이아웃을 그리도록 요청한다. 이">
<meta name="keywords" content="Interview,android">
<meta property="og:type" content="article">
<meta property="og:title" content="안드로이드 면접대비 _ 2">
<meta property="og:url" content="https://Onedelay.github.io/2018/12/11/안드로이드-질문모음-2/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="안드로이드 면접 질문 View가 그려지는 과정 View lifecycle 대용량 Bitmap 로드시 메모리 문제를 해결하는 방법 화면 렌더링 속도를 개선하는 방법  주요내용출처1, 주요내용출처2, 주요내용출처3 위 3개 링크에 있는 내용을 그냥 필요한대로 옮겨다 적은 것.  1. View가 그려지는 과정뷰는 포커스를 얻으면 레이아웃을 그리도록 요청한다. 이">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/800/1*abc0UlGj1myFD0eph4pZjQ.png">
<meta property="og:updated_time" content="2018-12-11T08:07:24.973Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="안드로이드 면접대비 _ 2">
<meta name="twitter:description" content="안드로이드 면접 질문 View가 그려지는 과정 View lifecycle 대용량 Bitmap 로드시 메모리 문제를 해결하는 방법 화면 렌더링 속도를 개선하는 방법  주요내용출처1, 주요내용출처2, 주요내용출처3 위 3개 링크에 있는 내용을 그냥 필요한대로 옮겨다 적은 것.  1. View가 그려지는 과정뷰는 포커스를 얻으면 레이아웃을 그리도록 요청한다. 이">
<meta name="twitter:image" content="https://cdn-images-1.medium.com/max/800/1*abc0UlGj1myFD0eph4pZjQ.png">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">공부한것들 정리하는 블로그</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/">CS</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/자료구조/">자료구조</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/">Programming</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/Android/">Android</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/Etc/">Etc</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/For-Interview/">For Interview</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/Language/">Language</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Programming/For-Interview/">For Interview</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="cat-안드로이드-질문모음-2" class="article article-single article-type-cat" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        안드로이드 면접대비 _ 2
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2018/12/11/안드로이드-질문모음-2/" class="article-date">
            <time datetime="2018-12-11T05:25:36.000Z" itemprop="datePublished">2018-12-11</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Interview/">Interview</a>, <a class="tag-link" href="/tags/android/">android</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <h1 id="안드로이드-면접-질문"><a href="#안드로이드-면접-질문" class="headerlink" title="안드로이드 면접 질문"></a>안드로이드 면접 질문</h1><ol>
<li><a href="#1-View가-그려지는-과정">View가 그려지는 과정</a></li>
<li><a href="#2-View-lifecycle">View lifecycle</a></li>
<li><a href="#3-대용량-Bitmap-로드시-메모리-문제를-해결하는-방법">대용량 Bitmap 로드시 메모리 문제를 해결하는 방법</a></li>
<li><a href="#4-화면-렌더링-속도를-개선하는-방법">화면 렌더링 속도를 개선하는 방법</a></li>
</ol>
<p><a href="https://hyeonu1258.github.io/2018/03/26/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%20%EB%A9%B4%EC%A0%91/" target="_blank" rel="noopener">주요내용출처1</a>, <a href="https://hyeonu1258.github.io/2018/04/01/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%20%EB%A9%B4%EC%A0%912/" target="_blank" rel="noopener">주요내용출처2</a>, <a href="https://hyeonu1258.github.io/2018/04/17/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%20%EB%A9%B4%EC%A0%913/" target="_blank" rel="noopener">주요내용출처3</a></p>
<p>위 3개 링크에 있는 내용을 그냥 필요한대로 옮겨다 적은 것.</p>
<p><br></p>
<h2 id="1-View가-그려지는-과정"><a href="#1-View가-그려지는-과정" class="headerlink" title="1. View가 그려지는 과정"></a>1. View가 그려지는 과정</h2><p>뷰는 포커스를 얻으면 레이아웃을 그리도록 요청한다. 이때 레이아웃의 계층구조 중 루트 뷰를 제공해야한다. 따라서 그리기는 루트노드에서 시작되어 트리를 따라 전위 순회 방식으로 그려진다. 부모 뷰는 자식 뷰가 그려지기 전에(즉, 자식 뷰 뒤에) 그려지며 형제 뷰는 전위 방식에 따라 순서대로 그려진다. 레이아웃을 그리는 과정은 <strong>측정(measure)</strong>단계와 <strong>레이아웃(layout)</strong>단계를 통해 그려지게 된다.</p>
<h4 id="측정단계-measure-int-widthMeasureSpec-int-heightMeasureSpec"><a href="#측정단계-measure-int-widthMeasureSpec-int-heightMeasureSpec" class="headerlink" title="측정단계 - measure(int widthMeasureSpec, int heightMeasureSpec)"></a>측정단계 - measure(int widthMeasureSpec, int heightMeasureSpec)</h4><p>부모노드에서 자식노드를 경유하며 실행되며, <strong>뷰의 크기를 알아내기 위해</strong> 호출된다. 이것은 뷰의 크기를 측정하는 것은 아니며, 실제 크기 측정은 내부에서 <code>onMeasure(int, int)</code>를 호출하여 뷰의 크기를 알아낸다. 측정 과정에서는 부모 뷰와 자식 뷰간의 크기정보를 전달하기 위해 2가지의 클래스를 사용한다.</p>
<h5 id="ViewGroup-LayoutParams"><a href="#ViewGroup-LayoutParams" class="headerlink" title="ViewGroup.LayoutParams"></a>ViewGroup.LayoutParams</h5><p><strong>자식 뷰가 부모 뷰에게 자신이 어떻게 측정되고 위치를 정할지 요청</strong>하는데 사용된다. <code>ViewGroup</code>의 sub class에 따라 다른 <code>ViewGroup.LayoutParams</code>의 sub class가 존재할 수 있다. 예를 들어 <code>ViewGroup</code>의 sub class인 <code>RelativeLayout</code> 경우 자신만의 <code>ViewGroup.LayoutParams</code>의 sub class는 자식 뷰를 수평적으로 또는 수직적으로 가운데정렬을 할 수 있는 능력이 있다.</p>
<ul>
<li>숫자 (ex. android:layout_width=”320dp”)</li>
<li>MATCH_PARENT (ex.android:layout_width=”match_parent”)</li>
<li>WRAP_CONTENT (ex.android:layout_width=”wrap_content”)</li>
</ul>
<h5 id="ViewGroup-MeasureSpec"><a href="#ViewGroup-MeasureSpec" class="headerlink" title="ViewGroup.MeasureSpec"></a>ViewGroup.MeasureSpec</h5><p><strong>부모 뷰가 자식 뷰에게 요구사항을 전달</strong>하는데 사용된다.</p>
<ul>
<li>UNSPECIFIED - 부모 뷰는 자식 뷰가 원하는 치수대로 결정한다.</li>
<li>EXACTLY - 부모 뷰가 자식 뷰에게 정확한 크기를 강요한다.</li>
<li>AT MOST - 부모 뷰가 자식 뷰에게 최대 크기를 강요한다.</li>
</ul>
<h4 id="레이아웃단계-layout-int-l-int-t-int-r-int-b"><a href="#레이아웃단계-layout-int-l-int-t-int-r-int-b" class="headerlink" title="레이아웃단계 - layout(int l, int t, int r, int b)"></a>레이아웃단계 - layout(int l, int t, int r, int b)</h4><p>부모노드에서 자식노드를 경유하며 실행되며, <strong>뷰와 자식뷰들의 크기와 위치를 할당할 때</strong> 사용된다. <code>measure(int, int)</code>에 의해 각 뷰에 저장된 크기를 사용하여 위치를 지정한다. 내부적으로 <code>onLayout()</code>를 호출하고 <code>onLayout()</code>에서 실제 뷰의 위치를 할당하는 구조로 되어있다.</p>
<blockquote>
<p><code>measure()</code>와 <code>layout()</code>메소드는 내부적으로 각각 <code>onMeasure()</code>와 <code>onLayout()</code>함수를 호출한다. 이것은 final로 선언된 <code>measure()</code>와 <code>layout()</code> 대신 <code>onMeasure()</code>와 <code>onLayout()</code>을 구현(override)할 것을 장려하기 위해서이다.</p>
</blockquote>
<p>뷰의 <code>measure()</code>메소드가 반환할때, 뷰의 <code>getMeasureWidth()</code>와 <code>getMeasureHeight()</code>값이 설정된다. 만약 자식 뷰 측정값의 합이 너무 크거나 작을 경우 다시 <code>measure()</code>메소드를 호출하여 크기를 재측정한다.</p>
<p>참고 : <a href="http://namsieon.com/339" target="_blank" rel="noopener">뷰가 그려지는 과정</a>, <a href="http://i5on9i.blogspot.kr/2013/02/view.html" target="_blank" rel="noopener">안드로이드에서 view가 어떻게 그려지는가</a>, <a href="https://developer.android.com/guide/topics/ui/how-android-draws.html" target="_blank" rel="noopener">안드로이드 Docs - draws views</a></p>
<p><a href="#안드로이드-면접-질문">위로</a></p>
<p><br></p>
<h2 id="2-View-lifecycle"><a href="#2-View-lifecycle" class="headerlink" title="2. View lifecycle"></a>2. View lifecycle</h2><p><img src="https://cdn-images-1.medium.com/max/800/1*abc0UlGj1myFD0eph4pZjQ.png" alt=""></p>
<h4 id="1-Constructor"><a href="#1-Constructor" class="headerlink" title="1. Constructor"></a>1. Constructor</h4><p>모든 뷰는 생성자에서 출발한다. 생성자에서 초기화를 하고, default 값을 설정한다. 뷰는 초기설정을 쉽게 세팅하기 위해서 <code>AttributeSet</code>이라는 인터페이스를 지원한다. 먼저 <code>attrs.xml</code>파일을 만들고 이것을 호출함으로써 뷰의 설정값을 쉽게 설정할 수 있다.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*abeF4ZlAwckInuyH7MM44w.png" alt=""></p>
<h4 id="2-onAttachedToWindow"><a href="#2-onAttachedToWindow" class="headerlink" title="2. onAttachedToWindow"></a>2. onAttachedToWindow</h4><p>부모 뷰가 <code>addView(childView)</code>를 호출한 후 자식 뷰는 윈도우에 붙게 된다(attached). 이때부터 뷰의 id 를 통해 접근할 수 있다.</p>
<h4 id="3-onMeasure"><a href="#3-onMeasure" class="headerlink" title="3. onMeasure"></a>3. onMeasure</h4><p>뷰의 크기를 측정하는 매우 중요한 단계이며, 대부분의 경우 레이아웃에 맞게 특정 크기를 가져야한다. 여기에는 두단계의 과정이 있다.</p>
<ol>
<li><p>뷰가 원하는 사이즈를 계산한다.</p>
</li>
<li><p><code>MeasureSpec</code>에 따라 크기와 mode를 가져온다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> widthMode = MeasureSpec.getMode(widthMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> widthSize = MeasureSpec.getSize(widthMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> heightMode = MeasureSpec.getMode(heightMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> heightSize = MeasureSpec.getSize(heightMeasureSpec);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>MeasureSpec</code>의 mode를 체크하여 뷰의 크기를 적용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> width;</span><br><span class="line"><span class="keyword">if</span> (widthMode == MeasureSpec.EXACTLY) &#123;</span><br><span class="line">  width = widthSize;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (widthMode == MeasureSpec.AT_MOST) &#123;</span><br><span class="line">  width = Math.min(desiredWidth, widthSize);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  width = desiredWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="4-onLayout"><a href="#4-onLayout" class="headerlink" title="4. onLayout"></a>4. onLayout</h4><p>이 단계에서 뷰의 크기와 위치를 할당한다.</p>
<h4 id="5-onDraw"><a href="#5-onDraw" class="headerlink" title="5. onDraw"></a>5. onDraw</h4><p>뷰를 실제로 그리는 단계이다. <code>Canvas</code>와 <code>Paint</code>객체를 사용하여 필요한 것을 그리게 된다. <code>Canvas</code>객체는 <code>onDraw</code>함수의 파라미터로 제공되며, 이를 이용하여 뷰의 모양을 그린다. <code>Paint</code>객체는 뷰의 색을 그린다.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*q9ihFmwrDxAkKBNBbFy7NQ.png" alt=""></p>
<p>여기서 주의할 점은 <strong>onDraw 메소드는 빈번하게 호출된다는 점이다.</strong> Scroll 또는 Swipe 등을 할 경우 뷰는 다시 <code>onDraw</code>와 <code>onLayout</code>을 다시 호출하게 된다. 따라서 메소드 내에서 객체할당을 피하고, 한 번 할당한 객체를 재사용할 것을 권장한다.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*5lb2olkta6jeFAfvQc74mg.png" alt=""></p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*gRVf4dJg3vAscM6aFQsH9w.png" alt=""></p>
<h4 id="View-Update"><a href="#View-Update" class="headerlink" title="View Update"></a>View Update</h4><p><em>View Lifecycle</em>을 보면 뷰를 다시 그리도록 유도하는 <code>invalidate()</code>와 <code>requestLayout()</code>메소드를 볼 수 있는데, 이것은 런타임에 뷰를 다시 그릴 수 있게 해준다. 각각의 사용 용도는 아래와 같다.</p>
<h5 id="invalidate"><a href="#invalidate" class="headerlink" title="invalidate()"></a>invalidate()</h5><p>단순히 <strong>뷰를 다시 그릴 때</strong> 사용된다. 예를 들어 뷰의 <em>text</em> 또는 <em>color</em>가 변경되거나 , <em>touch interactivity</em>가 발생할 때 <code>onDraw()</code>메소드를 재호출하면서 뷰를 업데이트한다.</p>
<h5 id="requestLayout"><a href="#requestLayout" class="headerlink" title="requestLayout()"></a>requestLayout()</h5><p><code>onMeasure()</code>부터 다시 뷰를 그린다. 뷰의 사이즈가 변경될때 그것을 다시 측정해야하기에 <em>lifecycle</em>을 <code>onMeasure()</code>부터 순회하면서 뷰를 그린다.</p>
<h4 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h4><p>뷰의 <em>animation</em>은 <em>frame</em>단위의 프로세스이다. 예를 들어, 뷰가 점점 커질때 뷰를 한 단계씩 차례대로 커지도록 할 것이다. 그리고 각 단계마다 invalidate()를 호출하여 뷰를 그릴 것이다. 대표적으로 애니메이션에 사용하는 클래스는 <code>ValueAnimator</code>이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ValueAnimator animator = ValueAnimator.ofInt(<span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">animator.setDuration(<span class="number">1000</span>);</span><br><span class="line">animator.setInterpolator(<span class="keyword">new</span> DecelerateInterpolator());</span><br><span class="line">animator.addUpdateListener(<span class="keyword">new</span> ValueAnimator.AnimatorUpdateListener() &#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationUpdate</span><span class="params">(ValueAnimator animation)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> newRadius = (<span class="keyword">int</span>) animation.getAnimatedValue();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">animator.start();</span><br></pre></td></tr></table></figure>
<p><a href="#안드로이드-면접-질문">위로</a></p>
<p><br></p>
<h2 id="3-대용량-Bitmap-로드시-메모리-문제를-해결하는-방법"><a href="#3-대용량-Bitmap-로드시-메모리-문제를-해결하는-방법" class="headerlink" title="3. 대용량 Bitmap 로드시 메모리 문제를 해결하는 방법"></a>3. 대용량 Bitmap 로드시 메모리 문제를 해결하는 방법</h2><h4 id="1-createScaledBitmap-Bitmap-bitmap-int-width-int-height"><a href="#1-createScaledBitmap-Bitmap-bitmap-int-width-int-height" class="headerlink" title="1. createScaledBitmap(Bitmap bitmap, int width, int height)"></a>1. createScaledBitmap(Bitmap bitmap, int width, int height)</h4><p>비트맵을 생성할때 작은 크기로 생성하여 메모리 사용을 줄일 수 있다. 장점은 원하는 크기대로의 비트맵이 나온다는 것이다(비율이 안맞을 수도 있다). 단점은 이미 원본 비트맵이 메모리에 로드되어 있어야 리사이즈된 비트맵을 생성할 수 것이다.</p>
<h4 id="2-BitmapFactory-Options-inSampleSize"><a href="#2-BitmapFactory-Options-inSampleSize" class="headerlink" title="2. BitmapFactory.Options.inSampleSize"></a>2. BitmapFactory.Options.inSampleSize</h4><p>이 플래그 값을 1이 아닌 값으로 두면 실제 크기의 이미지를 로드할 필요가 없는 원본 사이즈의 값을 가진 이미지로 나온다. 예를 들어 2라면 1/2 크기의 이미지가 나온다.</p>
<p><code>inSampleSize</code>는 2의 지수 값만 가질 수 있으며, 2의 지수만큼 이미지를 작게만든다. <code>inSampleSize</code>크기만큼 픽셀을 건너뛰어 리사이징하기 때문에 속도가 매우 빠르다. 그러나 2의 지수가 아닌 값으로는 리사이징을 못하는 단점이 있다.</p>
<p><img src="https://raw.githubusercontent.com/hyeonu1258/hyeonu1258.github.io/master/images/insamplesize.png" alt=""></p>
<h4 id="3-BitmapFactory-Options-inScaled-BitmapFactory-Options-inDensity"><a href="#3-BitmapFactory-Options-inScaled-BitmapFactory-Options-inDensity" class="headerlink" title="3. BitmapFactory.Options.inScaled / BitmapFactory.Options.inDensity"></a>3. BitmapFactory.Options.inScaled / BitmapFactory.Options.inDensity</h4><p>어떠한 사이즈로든 리사이징이 가능하고, 리사이징 필터가 적용되어 더욱 정교한 리사이징이 가능하다. 하지만 추가적인 필터링 단계는 많은 시간소요가 발생하기에 <code>inSampleSize</code>방법에 비해 느리다.</p>
<p>그래서 이 둘을 섞는게 가장 효과적인 방법이다.</p>
<p><img src="https://raw.githubusercontent.com/hyeonu1258/hyeonu1258.github.io/master/images/indensity.png" alt="inSampleSize"></p>
<h4 id="4-Combine-inSampleSize-inScaled-amp-inDensity"><a href="#4-Combine-inSampleSize-inScaled-amp-inDensity" class="headerlink" title="4. Combine inSampleSize, inScaled &amp; inDensity"></a>4. Combine inSampleSize, inScaled &amp; inDensity</h4><p>원하는 이미지 크기보다 2배 큰 이미지를 <code>inSampleSize</code>를 통해서 리사이징한다. (2의 지수만큼 리사이징이 가능하므로) 원하는 크기까지 <code>inScaled</code>와 <code>inDensity</code>를 이용하여 정교하게 리사이징하여 원하는 크기의 이미지를 얻는다.</p>
<p>하지만 문제점은 이미지의 원래 크기를 구하는 방법이 복잡하다는 것이다.</p>
<h4 id="5-Bitmap-Options-inJustDecodeBounds"><a href="#5-Bitmap-Options-inJustDecodeBounds" class="headerlink" title="5. Bitmap.Options.inJustDecodeBounds"></a>5. Bitmap.Options.inJustDecodeBounds</h4><p>원본 Bitmap 객체를 생성하지 않은 채로 원본 이미지 크기를 구할시 <code>inJustDecodeBounds</code>옵션을 이용한다. 이것의 값이 true일 경우 <code>BitmapFactory.decodeFile(fileName, Options)</code>를 통해 Bitmap을 생성시 Bitmap 객체를 반환하지 않고 Bitmap 정보를 Options 객체에 담는다. 따라서 <code>Options.outWidth</code>, <code>Options.outHeight</code>를 통해 너비와 높이를 알 수 있다. 반대로 Bitmap 객체를 생성하고 싶을 경우 <code>inJustDecodeBounds</code> 값을 false로 설정하여 decode하면 객체를 반환한다.</p>
<p>참고 : <a href="https://www.youtube.com/watch?v=HY9aaXHx8yA" target="_blank" rel="noopener">[Youtube] Pre-Scaling Bitmaps</a></p>
<hr>
<h5 id="추가-질문"><a href="#추가-질문" class="headerlink" title="추가 질문"></a>추가 질문</h5><p><strong>Q. 이미지뷰에서 scale 을 조정할 수 있는데 왜 비트맵을 직접 조정했나?</strong></p>
<p>A. 길이가 제각각인 이미지를 서버로 받아서 동일한 크기의 이미지로 자른 후 총 개수를 파악하여 이미지뷰를 인플레이션 해야했고, 또한 각각의 이미지뷰에 정해진 이미지를 보여주려면 비트맵으로 변환하여 가공하는 과정이 필요했다.</p>
<p><a href="#안드로이드-면접-질문">위로</a></p>
<p><br></p>
<h2 id="4-화면-렌더링-속도를-개선하는-방법"><a href="#4-화면-렌더링-속도를-개선하는-방법" class="headerlink" title="4. 화면 렌더링 속도를 개선하는 방법"></a>4. 화면 렌더링 속도를 개선하는 방법</h2><p>기본적으로 View 의 움직임이 어색하거나 스크롤이 버벅거리거나 랜더링이 느린 경우는 뷰를 그리는 속도가 16ms 보다 오래걸리는 현상이다. 초당 60프레임의 속도로 화면을 그려주어야 사람의 시각에 어색함이 없이 보이는데, View를 그리는 시간이 이보다 오래 걸릴 경우 버벅이는 문제가 발생할 수 있다. 따라서 랜더링이 느리다면 2가지를 의심해볼 것이다.</p>
<p>첫 번째로 View 계층 구조가 복잡한지 의심해 볼 것이다. View 는 그려기지 전에 Mesure, Layout, Draw 3단계를 계층적으로 실행한다. 만약 계층이 복잡하다면 당연히 View 가 그려지는 시간 또한 오래 걸릴 것이기 때문이다. 따라서 뷰의 깊이를 얕게 하기 위해 ConstraintLayout 사용을 적극 고려할 것이다.</p>
<p>두 번째로 <code>onDraw()</code> 에서 오버드로우 현상이 일어나는지 확인할 것이다.<code>onDraw()</code> 함수 안에서 객체생성을 하였는지, 오래 걸리는 작업을 실행하지 않는지 확인하여 문제가 되는 로직을 수정하거나 제거 할 것이다.</p>
<p>추가적으로 디버깅 옵션에서 프로필 GPU 렌더링을 통해 스마트폰에서 직접 메모리 사용량을 확인할 수 있다. 녹색 가로선은 16ms을 나타내며, 초당 60개의 프레임 속도로 처리하기 위해서는 막대가 이 선 아래에 머물러야한다.</p>
<p>참고 : <a href="https://www.youtube.com/watch?v=CaMTIgxCSqU" target="_blank" rel="noopener">Android Performance Patterns: Why 60fps?</a>, <a href="https://developer.android.com/studio/profile/inspect-gpu-rendering?hl=ko" target="_blank" rel="noopener">GPU 렌더링 속도 및 오버드로 검사</a></p>
<p><a href="#안드로이드-면접-질문">위로</a></p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://Onedelay.github.io/2018/12/11/안드로이드-질문모음-2/" data-id="cjpneyfpp000igkvyzuf7izey" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/Onedelay" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2018/12/11/안드로이드-질문모음-3/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            안드로이드 면접대비 _ 3
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2018/12/11/자바기초질문-2/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">자바 질문 모음 _ 2</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/">CS</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/자료구조/">자료구조</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a><span class="category-list-count">24</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/Android/">Android</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/Etc/">Etc</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/For-Interview/">For Interview</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/Language/">Language</a><span class="category-list-count">8</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Programming/For-Interview/">For Interview</a></p>
                            <p class="item-title"><a href="/2018/12/14/안드로이드-질문모음-4/" class="title">안드로이드 면접대비 _ 4</a></p>
                            <p class="item-date"><time datetime="2018-12-14T02:27:25.000Z" itemprop="datePublished">2018-12-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Programming/For-Interview/">For Interview</a></p>
                            <p class="item-title"><a href="/2018/12/11/안드로이드-질문모음-3/" class="title">안드로이드 면접대비 _ 3</a></p>
                            <p class="item-date"><time datetime="2018-12-11T08:08:03.000Z" itemprop="datePublished">2018-12-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Programming/For-Interview/">For Interview</a></p>
                            <p class="item-title"><a href="/2018/12/11/안드로이드-질문모음-2/" class="title">안드로이드 면접대비 _ 2</a></p>
                            <p class="item-date"><time datetime="2018-12-11T05:25:36.000Z" itemprop="datePublished">2018-12-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Programming/For-Interview/">For Interview</a></p>
                            <p class="item-title"><a href="/2018/12/11/자바기초질문-2/" class="title">자바 질문 모음 _ 2</a></p>
                            <p class="item-date"><time datetime="2018-12-11T02:44:12.000Z" itemprop="datePublished">2018-12-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Programming/Android/">Android</a></p>
                            <p class="item-title"><a href="/2018/12/10/안드로이드-데이터바인딩-삽질기/" class="title">Databinding _ 우선 공부해야 할 것들</a></p>
                            <p class="item-date"><time datetime="2018-12-10T02:30:16.000Z" itemprop="datePublished">2018-12-10</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">8</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/CS/" style="font-size: 10px;">CS</a> <a href="/tags/Interview/" style="font-size: 16.67px;">Interview</a> <a href="/tags/Java/" style="font-size: 11.67px;">Java</a> <a href="/tags/android/" style="font-size: 18.33px;">android</a> <a href="/tags/cs/" style="font-size: 13.33px;">cs</a> <a href="/tags/kotlin/" style="font-size: 20px;">kotlin</a> <a href="/tags/mvp/" style="font-size: 11.67px;">mvp</a> <a href="/tags/mvvm/" style="font-size: 10px;">mvvm</a> <a href="/tags/recyclerview/" style="font-size: 11.67px;">recyclerview</a> <a href="/tags/spring-boot/" style="font-size: 10px;">spring boot</a> <a href="/tags/자료구조/" style="font-size: 15px;">자료구조</a> <a href="/tags/집합/" style="font-size: 10px;">집합</a> <a href="/tags/해시/" style="font-size: 10px;">해시</a> <a href="/tags/힙/" style="font-size: 10px;">힙</a>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2018 Onedelay</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'https://Onedelay.github.io/2018/12/11/안드로이드-질문모음-2/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
